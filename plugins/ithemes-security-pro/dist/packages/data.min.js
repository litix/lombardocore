(globalThis.itsecWebpackJsonP=globalThis.itsecWebpackJsonP||[]).push([[7118],{90583:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BANS_STORE_NAME:()=>Ae,CORE_STORE_NAME:()=>Vs,HELP_STORE_NAME:()=>Fe,MODULES_STORE_NAME:()=>Kt,apiFetch:()=>_,apiFetchBatch:()=>C,apiFetchResult:()=>h,awaitPromise:()=>b,controls:()=>U,createNotice:()=>D,dispatch:()=>A,fetch:()=>v,parseFetchResponse:()=>R,select:()=>T,updateSettings:()=>N});var r={};s.r(r),s.d(r,{FAILED_CREATE_BAN:()=>se,FAILED_DELETE_BAN:()=>de,FAILED_QUERY:()=>z,FAILED_UPDATE_BAN:()=>oe,FINISH_CREATE_BAN:()=>te,FINISH_DELETE_BAN:()=>ue,FINISH_QUERY:()=>X,FINISH_UPDATE_BAN:()=>ne,RECEIVE_BAN:()=>re,RECEIVE_QUERY:()=>K,START_CREATE_BAN:()=>ee,START_DELETE_BAN:()=>le,START_QUERY:()=>J,START_UPDATE_BAN:()=>ie,createBan:()=>$,deleteBan:()=>Z,failedCreateBan:()=>B,failedDeleteBan:()=>j,failedUpdateBan:()=>G,fetchQueryNextPage:()=>P,finishCreateBan:()=>H,finishDeleteBan:()=>W,finishUpdateBan:()=>k,path:()=>O,query:()=>x,receiveBan:()=>w,receiveQuery:()=>L,startCreateBan:()=>q,startDeleteBan:()=>Q,startUpdateBan:()=>V,updateBan:()=>Y});var i={};s.r(i),s.d(i,{getBan:()=>pe,getBans:()=>ae,getQueryHeader:()=>fe,getQueryHeaderLink:()=>Ee,getQueryHeaderLinks:()=>ge,getQueryResults:()=>ye,isDeleting:()=>Se,isQuerying:()=>Ie,isUpdating:()=>me});var n={};s.r(n),s.d(n,{getBans:()=>_e});var o={};s.r(o),s.d(o,{RECEIVE_HELP:()=>be,enableHelp:()=>Re,fetchHelp:()=>ve});var l={};s.r(l),s.d(l,{getHelp:()=>De,isEnabled:()=>Ce});var u={};s.r(u),s.d(u,{getHelp:()=>Me});var d={};s.r(d),s.d(d,{EDIT_MODULE:()=>rt,EDIT_SETTING:()=>ct,EDIT_SETTINGS:()=>dt,FAILED_SAVING_MODULES:()=>ot,FAILED_SAVING_SETTINGS:()=>gt,FINISH_SAVING_MODULES:()=>lt,FINISH_SAVING_SETTINGS:()=>ft,RECEIVE_MODULE:()=>st,RECEIVE_MODULES:()=>tt,RECEIVE_SETTINGS:()=>ut,RESET_MODULE_EDITS:()=>it,RESET_SETTING_EDIT:()=>at,RESET_SETTING_EDITS:()=>yt,START_SAVING_MODULES:()=>nt,START_SAVING_SETTINGS:()=>Et,activateModule:()=>Ge,deactivateModule:()=>ke,editModule:()=>Be,editSetting:()=>We,editSettings:()=>je,fetchModules:()=>Je,receiveModule:()=>ze,receiveModules:()=>Xe,receiveSettings:()=>et,resetModuleEdits:()=>Ve,resetSettingEdits:()=>$e,saveModules:()=>He,saveSettings:()=>Ye,setModulesStatus:()=>Qe,updateSettings:()=>Ze});var c={};s.r(c),s.d(c,{__unstableGetAllEditedSettings:()=>Lt,__unstableGetAllSettings:()=>Pt,areSettingsDirty:()=>Ot,getActiveModules:()=>It,getDirtyModules:()=>vt,getDirtySettings:()=>Ft,getEditedModule:()=>St,getEditedModules:()=>mt,getEditedSetting:()=>Mt,getEditedSettings:()=>Ct,getError:()=>xt,getModule:()=>_t,getModuleEdits:()=>Tt,getModules:()=>pt,getSetting:()=>Nt,getSettingEdits:()=>Dt,getSettingSchema:()=>wt,getSettings:()=>bt,isActive:()=>ht,isModuleDirty:()=>Rt,isSavingModule:()=>At,isSavingSettings:()=>Ut});var a={};s.r(a),s.d(a,{__unstableGetAllEditedSettings:()=>Gt,__unstableGetAllSettings:()=>Vt,getActiveModules:()=>Wt,getEditedModule:()=>jt,getEditedModules:()=>kt,getEditedSetting:()=>Zt,getEditedSettings:()=>Yt,getModule:()=>Qt,getModules:()=>Bt,getSetting:()=>$t,getSettings:()=>Ht});var y={};s.r(y),s.d(y,{getActorTypes:()=>os,getActors:()=>ls,getBatchMaxItems:()=>cs,getCurrentUser:()=>Xt,getCurrentUserId:()=>zt,getFeatureFlags:()=>ds,getIndex:()=>ss,getRequirementsInfo:()=>ns,getRoles:()=>is,getSchema:()=>rs,getSiteInfo:()=>us,getUser:()=>Jt,isSavingCurrentUser:()=>ts,isSavingUser:()=>es});var E={};s.r(E),s.d(E,{LOAD_INITIAL_FEATURE_FLAGS:()=>Ds,RECEIVE_ACTORS:()=>bs,RECEIVE_ACTOR_TYPES:()=>Rs,RECEIVE_BATCH_MAX_ITEMS:()=>Cs,RECEIVE_CURRENT_USER_ID:()=>vs,RECEIVE_INDEX:()=>Ts,RECEIVE_SITE_INFO:()=>Ns,RECEIVE_USER:()=>As,__unstableLoadInitialFeatureFlags:()=>_s,fetchIndex:()=>as,receiveActorTypes:()=>ms,receiveActors:()=>Ss,receiveBatchMaxItems:()=>hs,receiveCurrentUserId:()=>ps,receiveIndex:()=>ys,receiveSiteInfo:()=>Is,receiveUser:()=>fs,saveCurrentUser:()=>Es,saveUser:()=>gs});var g={};s.r(g),s.d(g,{getActorTypes:()=>Ls,getActors:()=>ws,getBatchMaxItems:()=>Bs,getCurrentUser:()=>Ps,getIndex:()=>Ms,getRequirementsInfo:()=>Os,getRoles:()=>Fs,getSchema:()=>Us,getSiteInfo:()=>qs,getUser:()=>xs});var f=s(48015),p=s(92819),m=s(87514),S=s.n(m),I=s(31511);function _(e){return{type:"API_FETCH",request:e}}function h(e){return{type:"API_FETCH_RESULT",request:e}}function T(e,t){for(var s=arguments.length,r=new Array(s>2?s-2:0),i=2;i<s;i++)r[i-2]=arguments[i];return{type:"SELECT",storeKey:e,selectorName:t,args:r}}function A(e,t){for(var s=arguments.length,r=new Array(s>2?s-2:0),i=2;i<s;i++)r[i-2]=arguments[i];return{type:"DISPATCH",storeKey:e,actionName:t,args:r}}function v(e,t){return{type:"FETCH",request:e,init:t}}function R(e){return{type:"PARSE_FETCH_RESPONSE",response:e}}function b(e,t){return{type:"AWAIT_PROMISE",promise:e,delay:t}}function N(e,t){return{type:"UPDATE_SETTINGS",module:e,settings:t}}function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"CREATE_NOTICE",status:e,content:t,options:{context:"ithemes-security",...s}}}function C(e){return{type:"API_FETCH_BATCH",batch:e}}const M={AWAIT_PROMISE:e=>{let{promise:t,delay:s}=e;return s?Promise.all([t,(r=s,new Promise((e=>setTimeout(e,r))))]):t;var r},API_FETCH(e){let{request:t}=e;return S()(t).catch(I.xJ)},API_FETCH_RESULT(e){let{request:t}=e;return S()({...t,parse:!1}).then(I.x4.fromResponse).catch(I.xJ).catch((e=>e.getResponse?I.x4.fromResponse(e.getResponse()):new I.x4(I.x4.ERROR,new I.PN("unknown_error","Unknown error"))))},SELECT(e){let{storeKey:t,selectorName:s,args:r}=e;const i=(0,f.select)(t)[s];return i.hasResolver?(e=>{let{storeKey:t,selectorName:s,args:r}=e;return new Promise((e=>{const i=()=>(0,f.select)("core/data").hasFinishedResolution(t,s,r),n=()=>(0,f.select)(t)[s].apply(null,r),o=n();if(i())return e(o);const l=(0,f.subscribe)((()=>{i()&&(l(),e(n()))}))}))})({storeKey:t,selectorName:s,args:r}):i(...r)},DISPATCH(e){let{storeKey:t,actionName:s,args:r}=e;return(0,f.dispatch)(t)[s](...r)},PARSE_FETCH_RESPONSE:async function(e){let{response:t}=e;return await t.json()},FETCH(e){let{request:t,init:s}=e;return window.fetch(t,s)},UPDATE_SETTINGS:(0,f.createRegistryControl)((e=>t=>{let{module:s,settings:r}=t;return e.dispatch("ithemes-security/modules").updateSettings(s,r)})),CREATE_NOTICE(e){let{status:t,content:s,options:r}=e;r.autoDismiss&&(r.id=r.id||(0,p.uniqueId)("itsec-auto-dismiss-"),setTimeout((()=>(0,f.dispatch)("core/notices").removeNotice(r.id,r.context)),r.autoDismiss)),(0,f.dispatch)("core/notices").createNotice(t,s,r)},API_FETCH_BATCH:(0,f.createRegistryControl)((e=>async t=>{let{batch:s}=t;const r=await e.resolveSelect(Vs).getBatchMaxItems(),i=(0,p.chunk)(s,r||25),n=[],o=[];if(!i.length)return[];for(const e of i)try{const t=await M.API_FETCH({request:{path:"/batch/v1",method:"POST",data:{requests:e}}});o.push(...t.responses)}catch(t){n.push(t),o.push(...(0,p.times)(e.length,(0,p.constant)({body:t,status:500,headers:{}})))}if(n.length===i.length)throw n[0];return o}))},U=M;var F=s(73470);const O="/ithemes-security/v1/bans";function*x(e){let t,s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield{type:J,queryId:e,queryParams:r};try{t=yield _({path:(0,F.addQueryArgs)(O,r),parse:!1}),s=yield R(t)}catch(t){return yield{type:z,queryId:e,queryParams:r,error:t},t}return yield L(e,r.context||"view",t,s,"replace"),yield{type:X,queryId:e,queryParams:r,response:t},t}function*P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"append";const s=yield T("ithemes-security/bans","getQueryHeaderLink",e,"next");if(!s)return[];let r,i;yield{type:J,queryId:e};try{r=yield _({url:s.link,parse:!1}),i=yield R(r)}catch(t){return yield{type:z,queryId:e,error:t},t}const n=(0,F.getQueryArg)(s.link,"context")||"view";return yield L(e,n,r,i,t),yield{type:X,queryId:e,response:r},r}function L(e,t,s,r,i){return{type:K,queryId:e,context:t,response:s,items:r,mode:i}}function w(e){return{type:re,ban:e}}function q(e){return{type:ee,ban:e}}function B(e,t){return{type:se,ban:e,error:t}}function H(e,t){return{type:te,ban:e,response:t}}function V(e,t){return{type:ie,self:e,ban:t}}function G(e,t){return{type:oe,self:e,error:t}}function k(e,t){return{type:ne,self:e,response:t}}function Q(e){return{type:le,self:e}}function j(e,t){return{type:de,self:e,error:t}}function W(e){return{type:ue,self:e}}function*$(e,t){const s={method:"POST",data:t};let r;(0,F.isURL)(e)?s.url=e:s.path=`${O}/${e}`,yield q(t);try{r=yield _(s)}catch(e){return yield B(t,e),e}return yield H(t,r),yield w(r),r}function*Y(e,t){const s=(0,p.isObject)(e)?(0,I.AW)(e):e;let r;yield V(s,t);try{r=yield _({url:s,method:"PUT",data:t})}catch(e){return yield G(s,e),e}return yield k(s,r),yield w(r),r}function*Z(e){const t=(0,p.isObject)(e)?(0,I.AW)(e):e;yield Q(t);try{yield _({url:t,method:"DELETE"})}catch(e){return yield j(t,e),e}return yield W(t),null}const K="RECEIVE_QUERY",J="START_QUERY",X="FINISH_QUERY",z="FAILED_QUERY",ee="START_CREATE_BAN",te="FINISH_CREATE_BAN",se="FAILED_CREATE_BAN",re="RECEIVE_BAN",ie="START_UPDATE_BAN",ne="FINISH_UPDATE_BAN",oe="FAILED_UPDATE_BAN",le="START_DELETE_BAN",ue="FINISH_DELETE_BAN",de="FAILED_DELETE_BAN";var ce=s(28306);const ae=(0,f.createRegistrySelector)((e=>()=>e("ithemes-security/bans").getQueryResults("main"))),ye=(0,ce.Z)(((e,t)=>{const s=(0,p.get)(e,["queries",t,"selves"],[]),r=e.bySelf,i=s.length,n=new Array(i);let o=-1;for(;++o<i;){const e=r[s[o]];e&&(n[o]=e.item)}return n}),((e,t)=>[e.queries[t],e.bySelf]));function Ee(e,t,s){return(0,p.find)((0,p.get)(e,["queries",t,"links"],[]),{rel:s})}function ge(e,t,s){return(0,p.filter)((0,p.get)(e,["queries",t,"links"],[]),{rel:s})}function fe(e,t,s){return(0,p.get)(e,["queries",t,"headers",s])}function pe(e,t){return e.bySelf[t]}function me(e,t){const s=(0,p.isObject)(t)?(0,I.AW)(t):t;return e.updating.includes(s)}function Se(e,t){const s=(0,p.isObject)(t)?(0,I.AW)(t):t;return e.deleting.includes(s)}function Ie(e,t){return e.querying.includes(t)}function*_e(){yield A("ithemes-security/bans","query","main",{per_page:100})}var he=s(38085);const Te={bySelf:{},queries:{},querying:[],creating:[],updating:[],deleting:[]},Ae="ithemes-security/bans";function*ve(e){const t=`https://ithemes.com/wp-json/ithemes/v1/inline-help/itsec/${encodeURIComponent(e)}`,s=yield v(t,{credentials:"omit",referrer:"no-referrer"});if(!s.ok)return;if(s.status>=400)return;const r=yield R(s);yield{type:be,topic:e,help:r}}function*Re(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];yield N("global",{enable_remote_help:e})}(0,f.registerStore)(Ae,{controls:U,actions:r,selectors:i,resolvers:n,reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{...e,queries:{...e.queries,[t.queryId]:{selves:"replace"===t.mode?(0,p.map)(t.items,I.AW):[...(0,p.get)(e,["queries",t.queryId,"selves"],[]),...(0,p.map)(t.items,I.AW)],headers:(0,p.fromPairs)(Array.from(t.response.headers.entries())),links:(0,he.parse)(t.response.headers.get("link"),{extended:!0}).map((e=>({...e,rel:e.rel[0]})))}},bySelf:{...e.bySelf,...(0,p.fromPairs)(t.items.filter((s=>{const r=(0,I.AW)(s);return!e.bySelf[r]||"embed"===e.bySelf[r].context||e.bySelf[r].context===t.context})).map((e=>[(0,I.AW)(e),{context:t.context,item:e}])))}};case J:return{...e,querying:[...e.querying,t.queryId]};case X:case z:return{...e,querying:e.querying.filter((e=>e!==t.queryId))};case re:return{...e,bySelf:{...e.bySelf,[(0,I.AW)(t.ban)]:{context:"edit",item:t.ban}}};case ee:return{...e,creating:[...e.creating,t.ban]};case te:case se:return{...e,creating:e.creating.filter((e=>e!==t.ban))};case ie:return{...e,updating:[...e.updating,t.self]};case ne:case oe:return{...e,updating:e.updating.filter((e=>e!==t.self))};case le:return{...e,deleting:[...e.deleting,t.self],bySelf:(0,p.omit)(e.bySelf,[t.self])};case ue:case de:return{...e,deleting:e.deleting.filter((e=>e!==t.self))};default:return e}}});const be="RECEIVE_HELP",Ne=[];function De(e,t){return e.byTopic[t]||Ne}const Ce=(0,f.createRegistrySelector)((e=>()=>e("ithemes-security/modules").getSettings("global")?.enable_remote_help));function*Me(e){yield ve(e)}const Ue={byTopic:{}},Fe="ithemes-security/help",Oe=((0,f.registerStore)(Fe,{controls:U,actions:o,selectors:l,resolvers:u,reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;return t.type===be?{...e,byTopic:{...e.byTopic,[t.topic]:t.help}}:e}}),e=>e instanceof Date),xe=e=>null!=e&&"object"==typeof e,Pe=e=>xe(e)&&(e=>0===Object.keys(e).length)(e),Le=(e,t)=>{if(e===t)return{};if(!xe(e)||!xe(t))return t;const s=e,r=t;return Oe(s)||Oe(r)?s.valueOf()==r.valueOf()?{}:r:Object.keys(r).reduce(((e,t)=>{if(((e,...t)=>Object.prototype.hasOwnProperty.call(e,...t))(s,t)){const i=Le(s[t],r[t]);return!Pe(i)||Oe(i)||!Pe(s[t])&&Pe(r[t])?(e[t]=i,e):e}return e}),{})},we=Le;var qe=s(95122);function*Be(e,t){const s=yield f.controls.select(Kt,"getModule",e);s?yield{type:rt,module:e,edit:we(s,t)}:yield{type:rt,module:e,edit:t}}function*He(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===e?e=yield f.controls.select(Kt,"getDirtyModules"):(0,p.isString)(e)&&(e=[e]),!e.length)return[];const t=[];for(const s of e){const e=yield f.controls.select(Kt,"getModuleEdits",s);t.push({method:"PUT",path:`/ithemes-security/v1/modules/${s}`,body:e})}let s;try{yield{type:nt,modules:e},s=yield C(t)}catch(t){return yield{type:ot,modules:e},yield D("error",t.message),t}const r=[],i={};for(let n=0;n<t.length;n++){const t=e[n],o=s[n];o.status>=400?i[t]=o.body:(r.push(t),yield ze(t,o.body))}return(0,p.isEmpty)(i)||(yield{type:ot,errors:i}),r.length&&(yield{type:lt,modules:r}),s}function*Ve(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e?e=yield f.controls.select(Kt,"getDirtyModules"):(0,p.isString)(e)&&(e=[e]),yield{type:it,modules:e}}function*Ge(e){try{const t=yield Ke(e,"active");yield ze(t),yield{type:lt,modules:[e]},t.side_effects&&(yield Je())}catch(t){yield{type:ot,errors:{[e]:t}}}}function*ke(e){try{const t=yield Ke(e,"inactive");yield ze(t),yield{type:lt,modules:[e]},t.side_effects&&(yield Je())}catch(t){yield{type:ot,errors:{[e]:t}}}}function*Qe(e){const t={requests:(0,p.map)(e,((e,t)=>({path:`/ithemes-security/v1/modules/${t}`,method:"PUT",body:{status:{selected:e}}})))},s=yield C(t);for(let e=0;e<s.length;e++){const t=s[e];t.status>=400?yield D("error",t.body.message):yield ze(t.body)}}function*je(e,t){const s=yield f.controls.select(Kt,"getSettings",e);if(!s)return void(yield{type:dt,module:e,edit:t});const r={};let i=!1;for(const e in t)t.hasOwnProperty(e)&&((0,p.isEqual)(t[e],s[e])||(r[e]=t[e],i=!0));i?yield{type:dt,module:e,edit:r}:yield $e(e)}function*We(e,t,s){const r=yield f.controls.select(Kt,"getSetting",e,t);(0,p.isEqual)(r,s)?yield{type:at,module:e,setting:t}:yield{type:ct,module:e,setting:t,value:s}}function*$e(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e?e=yield f.controls.select(Kt,"getDirtySettings"):(0,p.isString)(e)&&(e=[e]),yield{type:yt,modules:e}}function*Ye(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===e?e=yield f.controls.select(Kt,"getDirtySettings"):(0,p.isString)(e)&&(e=[e]),!e.length)return[];const t=[];for(const s of e){const e=yield f.controls.select(Kt,"getSettingEdits",s);t.push({method:"PATCH",path:`/ithemes-security/v1/settings/${s}`,body:e})}let s;try{yield{type:Et,modules:e},s=yield C(t)}catch(t){return yield{type:gt,modules:e},yield D("error",t.message),t}const r=[],i={};for(let n=0;n<t.length;n++){const t=e[n],o=s[n];o.status>=400?i[t]=o.body:(r.push(t),yield et(t,o.body))}return(0,p.isEmpty)(i)||(yield{type:gt,errors:i}),r.length&&(yield D("success",(0,qe.__)("Saved settings.","it-l10n-ithemes-security-pro"),{type:"snackbar"}),yield{type:ft,modules:r}),s}function*Ze(e,t){let s;yield{type:Et,modules:[e]};try{s=yield _({path:`/ithemes-security/v1/settings/${e}`,method:"PATCH",data:t}),yield et(e,s)}catch(t){return yield{type:gt,errors:{[e]:t}},t}return yield{type:ft,modules:[e]},s}function Ke(e,t){return _({method:"PUT",path:`/ithemes-security/v1/modules/${e}`,data:{status:{selected:t}}})}function*Je(){const e=yield _({path:"/ithemes-security/v1/modules?context=edit&_embed=1"});yield Xe(e)}function Xe(e){return{type:tt,modules:e}}function ze(e){return{type:st,module:e}}function et(e,t){return{type:ut,module:e,settings:t}}const tt="RECEIVE_MODULES",st="RECEIVE_MODULE",rt="EDIT_MODULE",it="RESET_MODULE_EDITS",nt="START_SAVING_MODULES",ot="FAILED_SAVING_MODULES",lt="FINISH_SAVING_MODULES",ut="RECEIVE_SETTINGS",dt="EDIT_SETTINGS",ct="EDIT_SETTING",at="RESET_SETTING_EDIT",yt="RESET_SETTING_EDITS",Et="START_SAVING_SETTINGS",gt="FAILED_SAVING_SETTINGS",ft="FINISH_SAVING_SETTINGS";function pt(e){return e.modules}const mt=(0,ce.Z)((e=>e.modules.map((t=>({...t,...e.moduleEdits[t.id]||{}})))),(e=>[e.modules,e.moduleEdits])),St=(0,ce.Z)(((e,t)=>({...e.modules[t]||{},...e.moduleEdits[t]||{}})),((e,t)=>[e.modules[t],e.moduleEdits[t]])),It=(0,ce.Z)((e=>e.modules.filter((e=>"active"===e.status.selected)).map((e=>e.id))),(e=>e.modules));function _t(e,t){return e.modules.find((e=>e.id===t))}function ht(e,t){return"active"===_t(e,t)?.status.selected}function Tt(e,t){return e.moduleEdits[t]}function At(e,t){return e.savingModules.includes(t)}function vt(e){return Object.keys(e.moduleEdits)}function Rt(e,t){return!!e.moduleEdits[t]}function bt(e,t){var s;return null!==(s=e.settings[t])&&void 0!==s?s:{}}function Nt(e,t,s){return e.settings[t]?.[s]}function Dt(e,t){return e.settingEdits[t]}const Ct=(0,ce.Z)(((e,t)=>({...e.settings[t]||{},...e.settingEdits[t]||{}})),((e,t)=>[e.settings[t],e.settingEdits[t]]));function Mt(e,t,s){return e.settingEdits[t]?.[s]||e.settings[t]?.[s]}function Ut(e,t){return e.savingSettings.includes(t)}function Ft(e){return Object.keys(e.settingEdits)}function Ot(e,t){return e.settingEdits[t]&&!(0,p.isEmpty)(e.settingEdits[t])}function xt(e,t){return e.errors[t]}function Pt(e){return e.settings}const Lt=(0,ce.Z)((e=>(0,p.reduce)(e.settings,((t,s,r)=>(t[r]={...s,...e.settingEdits[r]||{}},t)),{})),(e=>[e.settings,e.settingEdits]));function wt(e,t,s){return _t(e,t)?.settings?.schema.properties[s]}const qt={modules:[],moduleEdits:{},savingModules:[],settings:{},settingEdits:{},savingSettings:[],errors:{}},Bt={*fulfill(){yield Je()},isFulfilled:e=>e.modules.length>0},Ht={*fulfill(e){const t=yield _({path:`/ithemes-security/v1/settings/${e}`});yield et(e,t)},isFulfilled:(e,t)=>e.settings.hasOwnProperty(t)},Vt={*fulfill(){yield f.controls.resolveSelect(Kt,"getModules")},isFulfilled:e=>!(0,p.isEmpty)(e.settings)};function*Gt(){yield f.controls.resolveSelect(Kt,"__unstableGetAllSettings")}function*kt(){yield f.controls.resolveSelect(Kt,"getModules")}const Qt={*fulfill(){yield f.controls.resolveSelect(Kt,"getModules")},isFulfilled:(e,t)=>e.modules.includes((e=>e.id===t))};function*jt(){yield f.controls.resolveSelect(Kt,"getModules")}function*Wt(){yield f.controls.resolveSelect(Kt,"getModules")}function*$t(e){yield f.controls.resolveSelect(Kt,"getSettings",e)}function*Yt(e){yield f.controls.resolveSelect(Kt,"getSettings",e)}function*Zt(e){yield f.controls.resolveSelect(Kt,"getSettings",e)}const Kt="ithemes-security/modules",Jt=((0,f.registerStore)(Kt,{controls:U,actions:d,selectors:c,resolvers:a,reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tt:return{...e,modules:[...t.modules],settings:{...e.settings,...t.modules.reduce(((e,t)=>{const s=(0,p.get)(t,["_embedded","ithemes-security:settings",0]);return s?{...e,[t.id]:s}:e}),{})}};case st:return{...e,modules:e.modules.map((e=>e.id===t.module.id?t.module:e)),settings:{...e.settings,[t.module.id]:(0,p.get)(t.module,["_embedded","ithemes-security:settings",0],e.settings[t.module.id])}};case rt:return{...e,moduleEdits:{...e.moduleEdits,[t.module]:t.edit}};case it:return{...e,moduleEdits:(0,p.omit)(e.moduleEdits,t.modules)};case nt:return{...e,savingModules:[...e.savingModules,...t.modules]};case lt:return{...e,savingModules:e.savingModules.filter((e=>!t.modules.includes(e))),moduleEdits:(0,p.omit)(e.moduleEdits,t.modules),errors:(0,p.omit)(e.errors,t.modules)};case ot:return{...e,savingModules:(0,p.without)(e.savingModules,...Object.keys(t.errors||{}),...t.modules||[]),errors:{...e.errors,...t.errors}};case ut:return{...e,settings:{...e.settings,[t.module]:t.settings}};case dt:return{...e,settingEdits:{...e.settingEdits,[t.module]:t.edit}};case ct:return{...e,settingEdits:{...e.settingEdits,[t.module]:{...e.settingEdits[t.module]||{},[t.setting]:t.value}}};case at:return{...e,settingEdits:{...e.settingEdits,[t.module]:(0,p.omit)(e.settingEdits[t.module]||{},t.setting)}};case yt:return{...e,settingEdits:(0,p.omit)(e.settingEdits,t.modules)};case Et:return{...e,savingSettings:[...e.savingSettings,...t.modules]};case ft:return{...e,savingSettings:e.savingSettings.filter((e=>!t.modules.includes(e))),settingEdits:(0,p.omit)(e.settingEdits,t.modules),errors:(0,p.omit)(e.errors,t.modules)};case gt:return{...e,savingSettings:(0,p.without)(e.savingSettings,...Object.keys(t.errors||{}),...t.modules||[]),errors:{...e.errors,...t.errors}};default:return e}},persist:["moduleEdits","settingEdits"]}),(0,ce.Z)(((e,t)=>e.users.optimisticEdits[t]?(0,p.merge)((0,p.cloneDeep)(e.users.byId[t]),e.users.optimisticEdits[t]):e.users.byId[t]),((e,t)=>[e.users.byId[t],e.users.optimisticEdits[t]])));function Xt(e){return Jt(e,zt(e))}function zt(e){return e.users.currentId}function es(e,t){return e.users.saving.includes(t)}function ts(e){return es(e,e.users.currentId)}function ss(e){return e.index}function rs(e,t){const s=e.index;if(!s)return null;for(const e in s.routes){if(!s.routes.hasOwnProperty(e))continue;const r=s.routes[e].schema;if(r&&r.title===t)return r}return null}function is(e){return e.index?.roles||null}function ns(e){return e.index?.requirements_info||null}function os(e){return e.actors.types}function ls(e,t){return e.actors.byType[t]}function us(e){return e.siteInfo}const ds=(0,f.createRegistrySelector)((e=>t=>e(Kt).getSetting("feature-flags","enabled")||t.featureFlags));function cs(e){return e.batchMaxItems}function*as(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="/ithemes-security/v1?context=help";e&&(t+="&_="+Date.now());const s=yield _({path:t});return yield ys(s),s}function ys(e){return{type:Ts,index:e}}function*Es(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];yield*gs("me",e,t)}function*gs(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=yield T("ithemes-security/core","getCurrentUserId");"me"===e&&(e=r);const i=`/wp/v2/users/${e===r?"me":e}`;yield{type:"START_SAVING_USER",id:e,data:t,optimistic:s};try{const s=yield _({method:"PUT",path:i,data:t});yield fs(s),yield{type:"FINISH_SAVING_USER",id:e,user:s}}catch(t){yield{type:"FAILED_SAVING_USER",id:e,error:t}}}function fs(e){return{type:As,user:e}}function ps(e){return{type:vs,userId:e}}function ms(e){return{type:Rs,types:e}}function Ss(e,t){return{type:bs,actorType:e,actors:t}}function Is(e){return{type:Ns,siteInfo:e}}function _s(e){return{type:Ds,flags:e}}function hs(e){return{type:Cs,maxItems:e}}const Ts="RECEIVE_INDEX",As="RECEIVE_USER",vs="RECEIVE_CURRENT_USER_ID",Rs="RECEIVE_ACTOR_TYPES",bs="RECEIVE_ACTORS",Ns="RECEIVE_SITE_INFO",Ds="LOAD_INITIAL_FEATURE_FLAGS",Cs="RECEIVE_BATCH_MAX_ITEMS";function*Ms(){const e=yield _({path:"/ithemes-security/v1?context=help"});yield ys(e)}const Us={*fulfill(){yield f.controls.resolveSelect("ithemes-security/core","getIndex")},isFulfilled:e=>!!e.index},Fs={*fulfill(){yield f.controls.resolveSelect("ithemes-security/core","getIndex")},isFulfilled:e=>!!e.index},Os={*fulfill(){yield f.controls.resolveSelect("ithemes-security/core","getIndex")},isFulfilled:e=>!!e.index},xs={*fulfill(e){const t=yield _({path:`/wp/v2/users/${e}`});yield fs(t)},isFulfilled:(e,t)=>!!e.users.byId[t]},Ps={*fulfill(){const e=yield _({path:"/wp/v2/users/me?context=edit"});yield fs(e),yield ps(e.id)},isFulfilled:e=>e.users.currentId&&e.users.byId[e.users.currentId]},Ls={*fulfill(){const e=yield _({path:"/ithemes-security/v1/actors?_embed=1"}),t=[];for(const s of e){const e=(0,p.get)(s,["_embedded","wp:items",0],[]);yield Ss(s.slug,e),t.push({slug:s.slug,label:s.label})}yield ms(t)},isFulfilled:e=>e.actors.types.length>0},ws={*fulfill(){yield T("ithemes-security/core","getActorTypes")},isFulfilled:(e,t)=>!!e.actors.byType[t]},qs={*fulfill(){const e=yield _({path:"/?_fields=name,description,url,home,multisite"});yield Is(e)},isFulfilled:e=>!!e.siteInfo};function*Bs(){const e=yield _({path:"/batch/v1",method:"OPTIONS"});yield hs(e.endpoints[0].args.requests.maxItems)}const Hs={users:{currentId:0,byId:{},saving:[],optimisticEdits:{}},index:null,actors:{types:[],byType:{}},siteInfo:null,featureFlags:[],batchMaxItems:0};s.p=window.itsecWebpackPublicPath;const Vs="ithemes-security/core";(0,f.registerStore)(Vs,{controls:U,selectors:y,resolvers:g,actions:E,reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ts:return{...e,index:t.index};case"START_SAVING_USER":return{...e,users:{...e.users,saving:[...e.users.saving,t.id],optimisticEdits:t.optimistic?{...e.users.optimisticEdits,[t.id]:t.data}:e.users.optimisticEdits}};case"FINISH_SAVING_USER":case"FAILED_SAVING_USER":return{...e,users:{...e.users,saving:e.users.saving.filter((e=>e!==t.id)),optimisticEdits:(0,p.omit)(e.users.optimisticEdits,t.id)}};case As:return{...e,users:{...e.users,byId:{...e.users.byId,[t.user.id]:t.user}}};case vs:return{...e,users:{...e.users,currentId:t.userId}};case Rs:return{...e,actors:{...e.actors,types:t.types}};case bs:return{...e,actors:{...e.actors,byType:{...e.actors.byType,[t.actorType]:t.actors}}};case Ns:return{...e,siteInfo:t.siteInfo};case Ds:return{...e,featureFlags:t.flags};case Cs:return{...e,batchMaxItems:t.maxItems};default:return e}}})},87514:e=>{e.exports=function(){return this.wp.apiFetch}()},48015:e=>{e.exports=function(){return this.wp.data}()},6293:e=>{e.exports=function(){return this.wp.element}()},95122:e=>{e.exports=function(){return this.wp.i18n}()},73470:e=>{e.exports=function(){return this.wp.url}()},92819:e=>{"use strict";e.exports=window.lodash}},e=>{e.O(0,[1469],(()=>(90583,e(e.s=90583))));var t=e.O();((window.itsec=window.itsec||{}).packages=window.itsec.packages||{}).data=t}]);